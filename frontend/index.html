<!DOCTYPE html>
<html>
<head>
    <title>Login Test</title>
    <style>
        .container { max-width: 400px; margin: 50px auto; padding: 20px; }
        .form-group { margin: 15px 0; }
        input { width: 100%; padding: 10px; margin: 5px 0; }
        button { width: 100%; padding: 12px; background: #007bff; color: white; border: none; cursor: pointer; }
        button:disabled { background: #ccc; }
        .error { color: red; margin: 10px 0; padding: 10px; background: #fee; display: none; }
        .success { color: green; margin: 10px 0; padding: 10px; background: #efe; display: none; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Login Test</h1>
        
        <div id="connectionStatus" class="success" style="display: none;"></div>

        <h3>Login Form</h3>
        <form id="loginForm">
            <div class="form-group">
                <input type="email" id="email" placeholder="Email" value="test@example.com" required>
            </div>
            <div class="form-group">
                <input type="password" id="password" placeholder="Password" value="password123" required>
            </div>
            <button type="submit" id="loginBtn">Login</button>
            <div id="loginError" class="error"></div>
        </form>

        <hr>

        <h3>Register Form</h3>
        <form id="registerForm">
            <div class="form-group">
                <input type="text" id="regName" placeholder="Name" value="Test User" required>
            </div>
            <div class="form-group">
                <input type="email" id="regEmail" placeholder="Email" value="newuser@example.com" required>
            </div>
            <div class="form-group">
                <input type="password" id="regPassword" placeholder="Password" value="password123" required>
            </div>
            <button type="submit" id="registerBtn">Register</button>
            <div id="registerError" class="error"></div>
        </form>

        <hr>
        
        <button onclick="testBackend()">Test Backend Connection</button>
        <button onclick="clearData()">Clear Local Data</button>
    </div>

    <!-- √ñNCE auth.js SONRA app.js -->
    <script src="auth.js"></script>
    <script src="app.js"></script>
    
    <script>
        // Test functions
        async function testBackend() {
            try {
                const response = await fetch('https://route-app.onrender.com/api/health');
                const data = await response.json();
                document.getElementById('connectionStatus').style.display = 'block';
                document.getElementById('connectionStatus').textContent = `‚úÖ Backend connected: ${data.message}`;
                console.log('Backend health:', data);
            } catch (error) {
                document.getElementById('connectionStatus').style.display = 'block';
                document.getElementById('connectionStatus').className = 'error';
                document.getElementById('connectionStatus').textContent = `‚ùå Backend connection failed: ${error.message}`;
            }
        }

        function clearData() {
            localStorage.clear();
            alert('Local data cleared!');
            location.reload();
        }

        // Sayfa y√ºklendiƒüinde backend test et
        setTimeout(testBackend, 1000);
    </script>
</body>
</html>